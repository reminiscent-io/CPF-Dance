| schemaname | tablename                        | rowsecurity | policyname                                      | roles    | cmd    | qual                                                                                                                                                                                                                                                                                                                                                                                                                           | with_check                                                                                                                                                                                                                                                                                                            |
| ---------- | -------------------------------- | ----------- | ----------------------------------------------- | -------- | ------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| public     | classes                          | true        | Admins can manage all classes                   | {public} | ALL    | (((auth.jwt() -> 'user_metadata'::text) ->> 'role'::text) = 'admin'::text)                                                                                                                                                                                                                                                                                                                                                     | null                                                                                                                                                                                                                                                                                                                  |
| public     | classes                          | true        | Admins can view all classes                     | {public} | SELECT | (((auth.jwt() -> 'user_metadata'::text) ->> 'role'::text) = 'admin'::text)                                                                                                                                                                                                                                                                                                                                                     | null                                                                                                                                                                                                                                                                                                                  |
| public     | classes                          | true        | Instructors can manage their classes            | {public} | ALL    | (instructor_id = auth.uid())                                                                                                                                                                                                                                                                                                                                                                                                   | (instructor_id = auth.uid())                                                                                                                                                                                                                                                                                          |
| public     | classes                          | true        | Users can view relevant classes                 | {public} | SELECT | ((EXISTS ( SELECT 1
   FROM (enrollments e
     JOIN students s ON ((e.student_id = s.id)))
  WHERE ((e.class_id = classes.id) AND ((s.profile_id = auth.uid()) OR (s.guardian_id = auth.uid()))))) OR ((is_cancelled = false) AND (((auth.jwt() -> 'user_metadata'::text) ->> 'role'::text) = ANY (ARRAY['instructor'::text, 'admin'::text]))) OR (((auth.jwt() -> 'user_metadata'::text) ->> 'role'::text) = 'admin'::text)) | null                                                                                                                                                                                                                                                                                                                  |
| public     | enrollments                      | true        | Admins can manage all enrollments               | {public} | ALL    | (((auth.jwt() -> 'user_metadata'::text) ->> 'role'::text) = 'admin'::text)                                                                                                                                                                                                                                                                                                                                                     | null                                                                                                                                                                                                                                                                                                                  |
| public     | enrollments                      | true        | Admins can view all enrollments                 | {public} | SELECT | (((auth.jwt() -> 'user_metadata'::text) ->> 'role'::text) = 'admin'::text)                                                                                                                                                                                                                                                                                                                                                     | null                                                                                                                                                                                                                                                                                                                  |
| public     | enrollments                      | true        | Instructors can delete their class enrollments  | {public} | DELETE | (EXISTS ( SELECT 1
   FROM classes
  WHERE ((classes.id = enrollments.class_id) AND (classes.instructor_id = auth.uid()))))                                                                                                                                                                                                                                                                                                    | null                                                                                                                                                                                                                                                                                                                  |
| public     | enrollments                      | true        | Instructors can manage their class enrollments  | {public} | INSERT | null                                                                                                                                                                                                                                                                                                                                                                                                                           | (EXISTS ( SELECT 1
   FROM classes
  WHERE ((classes.id = enrollments.class_id) AND (classes.instructor_id = auth.uid()))))                                                                                                                                                                                           |
| public     | enrollments                      | true        | Instructors can update their class enrollments  | {public} | UPDATE | (EXISTS ( SELECT 1
   FROM classes
  WHERE ((classes.id = enrollments.class_id) AND (classes.instructor_id = auth.uid()))))                                                                                                                                                                                                                                                                                                    | null                                                                                                                                                                                                                                                                                                                  |
| public     | enrollments                      | true        | Instructors can view all enrollments            | {public} | SELECT | (((auth.jwt() -> 'user_metadata'::text) ->> 'role'::text) = ANY (ARRAY['instructor'::text, 'admin'::text]))                                                                                                                                                                                                                                                                                                                    | null                                                                                                                                                                                                                                                                                                                  |
| public     | enrollments                      | true        | Instructors can view their class enrollments    | {public} | SELECT | (EXISTS ( SELECT 1
   FROM classes
  WHERE ((classes.id = enrollments.class_id) AND (classes.instructor_id = auth.uid()))))                                                                                                                                                                                                                                                                                                    | null                                                                                                                                                                                                                                                                                                                  |
| public     | enrollments                      | true        | Students can self-enroll                        | {public} | INSERT | null                                                                                                                                                                                                                                                                                                                                                                                                                           | (EXISTS ( SELECT 1
   FROM students
  WHERE ((students.id = enrollments.student_id) AND (students.profile_id = auth.uid()))))                                                                                                                                                                                         |
| public     | enrollments                      | true        | Students can view their enrollments             | {public} | SELECT | (EXISTS ( SELECT 1
   FROM students
  WHERE ((students.id = enrollments.student_id) AND ((students.profile_id = auth.uid()) OR (students.guardian_id = auth.uid())))))                                                                                                                                                                                                                                                         | null                                                                                                                                                                                                                                                                                                                  |
| public     | instructor_student_relationships | true        | Admins and instructors can manage relationships | {public} | ALL    | (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = ANY (ARRAY['admin'::user_role, 'instructor'::user_role])))))                                                                                                                                                                                                                                                                      | (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = ANY (ARRAY['admin'::user_role, 'instructor'::user_role])))))                                                                                                                                                             |
| public     | instructor_student_relationships | true        | Admins can create relationships                 | {public} | INSERT | null                                                                                                                                                                                                                                                                                                                                                                                                                           | (((auth.jwt() -> 'user_metadata'::text) ->> 'role'::text) = 'admin'::text)                                                                                                                                                                                                                                            |
| public     | instructor_student_relationships | true        | Dancers can view their relationships            | {public} | SELECT | (student_id IN ( SELECT students.id
   FROM students
  WHERE (students.profile_id = auth.uid())))                                                                                                                                                                                                                                                                                                                              | null                                                                                                                                                                                                                                                                                                                  |
| public     | instructor_student_relationships | true        | Instructors can create relationships            | {public} | INSERT | null                                                                                                                                                                                                                                                                                                                                                                                                                           | ((instructor_id = auth.uid()) OR (((auth.jwt() -> 'user_metadata'::text) ->> 'role'::text) = 'instructor'::text))                                                                                                                                                                                                     |
| public     | notes                            | true        | Admins can manage all notes                     | {public} | ALL    | (((auth.jwt() -> 'user_metadata'::text) ->> 'role'::text) = 'admin'::text)                                                                                                                                                                                                                                                                                                                                                     | null                                                                                                                                                                                                                                                                                                                  |
| public     | notes                            | true        | Admins can view all notes                       | {public} | SELECT | (((auth.jwt() -> 'user_metadata'::text) ->> 'role'::text) = 'admin'::text)                                                                                                                                                                                                                                                                                                                                                     | null                                                                                                                                                                                                                                                                                                                  |
| public     | notes                            | true        | Instructors and Admins can manage all notes     | {public} | ALL    | (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = ANY (ARRAY['instructor'::user_role, 'admin'::user_role])))))                                                                                                                                                                                                                                                                      | (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = ANY (ARRAY['instructor'::user_role, 'admin'::user_role])))))                                                                                                                                                             |
| public     | notes                            | true        | Instructors can create notes for their students | {public} | INSERT | null                                                                                                                                                                                                                                                                                                                                                                                                                           | ((author_id = auth.uid()) AND (EXISTS ( SELECT 1
   FROM instructor_student_relationships
  WHERE ((instructor_student_relationships.student_id = notes.student_id) AND (instructor_student_relationships.instructor_id = auth.uid()) AND (instructor_student_relationships.relationship_status = 'active'::text))))) |
| public     | notes                            | true        | Instructors can manage all notes                | {public} | ALL    | (((auth.jwt() -> 'user_metadata'::text) ->> 'role'::text) = 'instructor'::text)                                                                                                                                                                                                                                                                                                                                                | null                                                                                                                                                                                                                                                                                                                  |
| public     | notes                            | true        | Instructors can manage notes                    | {public} | ALL    | (author_id = auth.uid())                                                                                                                                                                                                                                                                                                                                                                                                       | null                                                                                                                                                                                                                                                                                                                  |
| public     | notes                            | true        | Instructors can view all notes                  | {public} | SELECT | (((auth.jwt() -> 'user_metadata'::text) ->> 'role'::text) = ANY (ARRAY['instructor'::text, 'admin'::text]))                                                                                                                                                                                                                                                                                                                    | null                                                                                                                                                                                                                                                                                                                  |
| public     | notes                            | true        | Instructors can view notes                      | {public} | SELECT | ((((auth.jwt() -> 'user_metadata'::text) ->> 'role'::text) = ANY (ARRAY['instructor'::text, 'admin'::text])) OR (author_id = auth.uid()) OR (EXISTS ( SELECT 1
   FROM students
  WHERE ((students.id = notes.student_id) AND ((students.profile_id = auth.uid()) OR (students.guardian_id = auth.uid()))))))                                                                                                                  | null                                                                                                                                                                                                                                                                                                                  |
| public     | notes                            | true        | Students can create self notes                  | {public} | INSERT | null                                                                                                                                                                                                                                                                                                                                                                                                                           | ((author_id = auth.uid()) AND (EXISTS ( SELECT 1
   FROM students
  WHERE ((students.id = notes.student_id) AND (students.profile_id = auth.uid())))))                                                                                                                                                                |
| public     | notes                            | true        | Students can view their notes                   | {public} | SELECT | ((author_id = auth.uid()) OR (EXISTS ( SELECT 1
   FROM students s
  WHERE ((s.id = notes.student_id) AND ((s.profile_id = auth.uid()) OR (s.guardian_id = auth.uid())) AND (notes.visibility = ANY (ARRAY['shared_with_student'::note_visibility, 'shared_with_guardian'::note_visibility]))))))                                                                                                                              | null                                                                                                                                                                                                                                                                                                                  |
| public     | notes                            | true        | Students can view their own notes               | {public} | SELECT | ((author_id = auth.uid()) OR (EXISTS ( SELECT 1
   FROM students s
  WHERE ((s.id = notes.student_id) AND ((s.profile_id = auth.uid()) OR (s.guardian_id = auth.uid()))))))                                                                                                                                                                                                                                                    | null                                                                                                                                                                                                                                                                                                                  |
| public     | notes                            | true        | Studio users can view notes shared with studio  | {public} | SELECT | (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'studio'::user_role) AND (notes.visibility = 'shared_with_studio'::note_visibility))))                                                                                                                                                                                                                                            | null                                                                                                                                                                                                                                                                                                                  |
| public     | payment_events                   | true        | Admins can create payment events                | {public} | INSERT | null                                                                                                                                                                                                                                                                                                                                                                                                                           | (((auth.jwt() -> 'user_metadata'::text) ->> 'role'::text) = 'admin'::text)                                                                                                                                                                                                                                            |
| public     | payment_events                   | true        | Admins can view all payment events              | {public} | SELECT | (((auth.jwt() -> 'user_metadata'::text) ->> 'role'::text) = 'admin'::text)                                                                                                                                                                                                                                                                                                                                                     | null                                                                                                                                                                                                                                                                                                                  |
| public     | payment_events                   | true        | Instructors can create payment events           | {public} | INSERT | null                                                                                                                                                                                                                                                                                                                                                                                                                           | ((actor_id = auth.uid()) OR (((auth.jwt() -> 'user_metadata'::text) ->> 'role'::text) = ANY (ARRAY['instructor'::text, 'studio_admin'::text])))                                                                                                                                                                       |
| public     | payment_events                   | true        | Instructors can view student payment events     | {public} | SELECT | (EXISTS ( SELECT 1
   FROM (payments p
     JOIN instructor_student_relationships isr ON ((p.student_id = isr.student_id)))
  WHERE ((p.id = payment_events.payment_id) AND (isr.instructor_id = auth.uid()) AND (isr.relationship_status = 'active'::text) AND (isr.can_view_payments = true))))                                                                                                                              | null                                                                                                                                                                                                                                                                                                                  |
| public     | payment_events                   | true        | Students can view their payment events          | {public} | SELECT | (EXISTS ( SELECT 1
   FROM (payments p
     JOIN students s ON ((p.student_id = s.id)))
  WHERE ((p.id = payment_events.payment_id) AND ((s.profile_id = auth.uid()) OR (s.guardian_id = auth.uid())))))                                                                                                                                                                                                                       | null                                                                                                                                                                                                                                                                                                                  |
| public     | payment_events                   | true        | Studio admins can view studio payment events    | {public} | SELECT | (((auth.jwt() -> 'user_metadata'::text) ->> 'role'::text) = 'studio_admin'::text)                                                                                                                                                                                                                                                                                                                                              | null                                                                                                                                                                                                                                                                                                                  |
| public     | payments                         | true        | null                                            | null     | null   | null                                                                                                                                                                                                                                                                                                                                                                                                                           | null                                                                                                                                                                                                                                                                                                                  |
| public     | personal_classes                 | true        | Students can create their own personal classes  | {public} | INSERT | null                                                                                                                                                                                                                                                                                                                                                                                                                           | (EXISTS ( SELECT 1
   FROM students
  WHERE ((students.id = personal_classes.student_id) AND ((students.profile_id = auth.uid()) OR (students.guardian_id = auth.uid())))))                                                                                                                                           |
| public     | personal_classes                 | true        | Students can delete their own personal classes  | {public} | DELETE | (EXISTS ( SELECT 1
   FROM students
  WHERE ((students.id = personal_classes.student_id) AND ((students.profile_id = auth.uid()) OR (students.guardian_id = auth.uid())))))                                                                                                                                                                                                                                                    | null                                                                                                                                                                                                                                                                                                                  |
| public     | personal_classes                 | true        | Students can update their own personal classes  | {public} | UPDATE | (EXISTS ( SELECT 1
   FROM students
  WHERE ((students.id = personal_classes.student_id) AND ((students.profile_id = auth.uid()) OR (students.guardian_id = auth.uid())))))                                                                                                                                                                                                                                                    | null                                                                                                                                                                                                                                                                                                                  |
| public     | personal_classes                 | true        | Students can view their own personal classes    | {public} | SELECT | (EXISTS ( SELECT 1
   FROM students
  WHERE ((students.id = personal_classes.student_id) AND ((students.profile_id = auth.uid()) OR (students.guardian_id = auth.uid())))))                                                                                                                                                                                                                                                    | null                                                                                                                                                                                                                                                                                                                  |
| public     | private_lesson_requests          | true        | Admins can manage all private lesson requests   | {public} | ALL    | (((auth.jwt() -> 'user_metadata'::text) ->> 'role'::text) = 'admin'::text)                                                                                                                                                                                                                                                                                                                                                     | null                                                                                                                                                                                                                                                                                                                  |
| public     | private_lesson_requests          | true        | Admins can manage all requests                  | {public} | ALL    | (((auth.jwt() -> 'user_metadata'::text) ->> 'role'::text) = 'admin'::text)                                                                                                                                                                                                                                                                                                                                                     | null                                                                                                                                                                                                                                                                                                                  |
| public     | private_lesson_requests          | true        | Admins can view all private lesson requests     | {public} | SELECT | (((auth.jwt() -> 'user_metadata'::text) ->> 'role'::text) = 'admin'::text)                                                                                                                                                                                                                                                                                                                                                     | null                                                                                                                                                                                                                                                                                                                  |
| public     | private_lesson_requests          | true        | Admins can view all requests                    | {public} | SELECT | (((auth.jwt() -> 'user_metadata'::text) ->> 'role'::text) = 'admin'::text)                                                                                                                                                                                                                                                                                                                                                     | null                                                                                                                                                                                                                                                                                                                  |
| public     | private_lesson_requests          | true        | Instructors can manage requests                 | {public} | ALL    | (((auth.jwt() -> 'user_metadata'::text) ->> 'role'::text) = 'instructor'::text)                                                                                                                                                                                                                                                                                                                                                | null                                                                                                                                                                                                                                                                                                                  |
| public     | private_lesson_requests          | true        | Instructors can view all requests               | {public} | SELECT | (((auth.jwt() -> 'user_metadata'::text) ->> 'role'::text) = ANY (ARRAY['instructor'::text, 'admin'::text]))                                                                                                                                                                                                                                                                                                                    | null                                                                                                                                                                                                                                                                                                                  |
| public     | private_lesson_requests          | true        | Students can create requests                    | {public} | INSERT | null                                                                                                                                                                                                                                                                                                                                                                                                                           | (EXISTS ( SELECT 1
   FROM students
  WHERE ((students.id = private_lesson_requests.student_id) AND (students.profile_id = auth.uid()))))                                                                                                                                                                             |
| public     | private_lesson_requests          | true        | Students can view their own requests            | {public} | SELECT | (EXISTS ( SELECT 1
   FROM students
  WHERE ((students.id = private_lesson_requests.student_id) AND (students.profile_id = auth.uid()))))                                                                                                                                                                                                                                                                                      | null                                                                                                                                                                                                                                                                                                                  |
| public     | profiles                         | true        | Admins can update any profile                   | {public} | UPDATE | ((((auth.jwt() -> 'user_metadata'::text) ->> 'role'::text) = 'admin'::text) OR (auth.uid() = id))                                                                                                                                                                                                                                                                                                                              | null                                                                                                                                                                                                                                                                                                                  |
| public     | profiles                         | true        | Admins can view any profile                     | {public} | SELECT | ((((auth.jwt() -> 'user_metadata'::text) ->> 'role'::text) = 'admin'::text) OR (auth.uid() = id))                                                                                                                                                                                                                                                                                                                              | null                                                                                                                                                                                                                                                                                                                  |
| public     | profiles                         | true        | Anyone can view instructor profiles             | {public} | SELECT | (role = ANY (ARRAY['instructor'::user_role, 'admin'::user_role]))                                                                                                                                                                                                                                                                                                                                                              | null                                                                                                                                                                                                                                                                                                                  |
| public     | profiles                         | true        | Guardians can view their dancer profiles        | {public} | SELECT | (guardian_id = auth.uid())                                                                                                                                                                                                                                                                                                                                                                                                     | null                                                                                                                                                                                                                                                                                                                  |
| public     | profiles                         | true        | Users can update their own profile              | {public} | UPDATE | (auth.uid() = id)                                                                                                                                                                                                                                                                                                                                                                                                              | null                                                                                                                                                                                                                                                                                                                  |
| public     | profiles                         | true        | Users can view their own profile                | {public} | SELECT | (auth.uid() = id)                                                                                                                                                                                                                                                                                                                                                                                                              | null                                                                                                                                                                                                                                                                                                                  |
| public     | students                         | true        | Admins can view all students                    | {public} | SELECT | (((auth.jwt() -> 'user_metadata'::text) ->> 'role'::text) = 'admin'::text)                                                                                                                                                                                                                                                                                                                                                     | null                                                                                                                                                                                                                                                                                                                  |
| public     | students                         | true        | Instructors can create students                 | {public} | INSERT | null                                                                                                                                                                                                                                                                                                                                                                                                                           | (((auth.jwt() -> 'user_metadata'::text) ->> 'role'::text) = ANY (ARRAY['instructor'::text, 'admin'::text]))                                                                                                                                                                                                           |
| public     | students                         | true        | Instructors can delete students                 | {public} | DELETE | (((auth.jwt() -> 'user_metadata'::text) ->> 'role'::text) = ANY (ARRAY['instructor'::text, 'admin'::text]))                                                                                                                                                                                                                                                                                                                    | null                                                                                                                                                                                                                                                                                                                  |
| public     | students                         | true        | Instructors can update students                 | {public} | UPDATE | ((((auth.jwt() -> 'user_metadata'::text) ->> 'role'::text) = ANY (ARRAY['instructor'::text, 'admin'::text])) OR (profile_id = auth.uid()) OR (guardian_id = auth.uid()))                                                                                                                                                                                                                                                       | null                                                                                                                                                                                                                                                                                                                  |
| public     | students                         | true        | Instructors can view all students               | {public} | SELECT | ((((auth.jwt() -> 'user_metadata'::text) ->> 'role'::text) = ANY (ARRAY['instructor'::text, 'admin'::text])) OR (profile_id = auth.uid()) OR (guardian_id = auth.uid()))                                                                                                                                                                                                                                                       | null                                                                                                                                                                                                                                                                                                                  |
| public     | students                         | true        | Students can view their own student record      | {public} | SELECT | ((profile_id = auth.uid()) OR (guardian_id = auth.uid()))                                                                                                                                                                                                                                                                                                                                                                      | null                                                                                                                                                                                                                                                                                                                  |
| public     | studio_inquiries                 | true        | Admins can manage all inquiries                 | {public} | ALL    | (((auth.jwt() -> 'user_metadata'::text) ->> 'role'::text) = 'admin'::text)                                                                                                                                                                                                                                                                                                                                                     | null                                                                                                                                                                                                                                                                                                                  |
| public     | studio_inquiries                 | true        | Admins can manage all studio inquiries          | {public} | ALL    | (((auth.jwt() -> 'user_metadata'::text) ->> 'role'::text) = 'admin'::text)                                                                                                                                                                                                                                                                                                                                                     | null                                                                                                                                                                                                                                                                                                                  |
| public     | studio_inquiries                 | true        | Admins can view all studio inquiries            | {public} | SELECT | (((auth.jwt() -> 'user_metadata'::text) ->> 'role'::text) = 'admin'::text)                                                                                                                                                                                                                                                                                                                                                     | null                                                                                                                                                                                                                                                                                                                  |
| public     | studio_inquiries                 | true        | Anyone can create studio inquiries              | {public} | INSERT | null                                                                                                                                                                                                                                                                                                                                                                                                                           | true                                                                                                                                                                                                                                                                                                                  |
| public     | studio_inquiries                 | true        | Instructors can view studio inquiries           | {public} | SELECT | (((auth.jwt() -> 'user_metadata'::text) ->> 'role'::text) = 'instructor'::text)                                                                                                                                                                                                                                                                                                                                                | null                                                                                                                                                                                                                                                                                                                  |
| public     | studios                          | true        | Admins can manage all studios                   | {public} | ALL    | (((auth.jwt() -> 'user_metadata'::text) ->> 'role'::text) = 'admin'::text)                                                                                                                                                                                                                                                                                                                                                     | null                                                                                                                                                                                                                                                                                                                  |
| public     | studios                          | true        | Admins can view all studios                     | {public} | SELECT | (((auth.jwt() -> 'user_metadata'::text) ->> 'role'::text) = 'admin'::text)                                                                                                                                                                                                                                                                                                                                                     | null                                                                                                                                                                                                                                                                                                                  |
| public     | studios                          | true        | Instructors can create studios                  | {public} | INSERT | null                                                                                                                                                                                                                                                                                                                                                                                                                           | (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'instructor'::user_role))))                                                                                                                                                                                              |
| public     | studios                          | true        | Instructors can update studios                  | {public} | UPDATE | (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'instructor'::user_role))))                                                                                                                                                                                                                                                                                                       | null                                                                                                                                                                                                                                                                                                                  |
| public     | studios                          | true        | Instructors can view all studios                | {public} | SELECT | (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'instructor'::user_role))))                                                                                                                                                                                                                                                                                                       | null                                                                                                                                                                                                                                                                                                                  |
| public     | studios                          | true        | Studio admins can update their studio           | {public} | UPDATE | (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'studio_admin'::user_role))))                                                                                                                                                                                                                                                                                                     | null                                                                                                                                                                                                                                                                                                                  |
| public     | studios                          | true        | Studio admins can view studios                  | {public} | SELECT | (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'studio_admin'::user_role))))                                                                                                                                                                                                                                                                                                     | null                                                                                                                                                                                                                                                                                                                  |